# ==========================================================================
# tour41.net – environment variables
# ==========================================================================
# Copy this file to .env and fill in the values before deploying.
#   cp .env.example .env
# NEVER commit the .env file to version control.
# ==========================================================================

# ── Domains ───────────────────────────────────────────────────────────────
# WordPress site
DOMAIN=tour41.net

# Static site (weilwirsovielesind)
WEILWIRSOVIELESIND_DOMAIN=weilwirsovielesind.de

# ── Database ──────────────────────────────────────────────────────────────
MYSQL_ROOT_PASSWORD=CHANGE_ME_root_password
MYSQL_DATABASE=wordpress
MYSQL_USER=wordpress
MYSQL_PASSWORD=CHANGE_ME_db_password

# ── WordPress ─────────────────────────────────────────────────────────────
# Override to use a specific image tag (default: latest from GHCR)
# WP_IMAGE=ghcr.io/tour41-phil/tour41.net:sha-abc1234
WP_TABLE_PREFIX=wp_

# ── Traefik ───────────────────────────────────────────────────────────────
# Name of the cert resolver configured in your Traefik instance
CERT_RESOLVER=letsencrypt

# ── UpdraftPlus Legacy Backup Restoration ─────────────────────────────────
# Path on the host where UpdraftPlus backup files are stored.
# These will be mounted into the container at /backups for restoration.
# Example: /home/user/backups/updraft-exports or /mnt/external/backups
# Default: ./updraft (relative to docker-compose.yml)
# BACKUP_HOST_PATH=/path/to/backup/files

# ── Backup Configuration ──────────────────────────────────────────────────
# Oracle Cloud Object Storage (OCI) settings for restic backups
# Follow the setup guide in BACKUP.md to configure OCI Object Storage

# Override to use a specific backup image tag (default: latest from GHCR)
# BACKUP_IMAGE=ghcr.io/tour41-phil/tour41.net-backup:sha-abc1234

# OCI S3-compatible endpoint (format: https://{namespace}.compat.objectstorage.{region}.oraclecloud.com)
# Find your namespace: OCI Console → Object Storage → Buckets (shown at top)
# Find your region: shown in console URL or region selector (e.g., us-ashburn-1)
# Example: https://axabcd1234.compat.objectstorage.us-ashburn-1.oraclecloud.com
OCI_S3_ENDPOINT=https://YOUR_NAMESPACE.compat.objectstorage.YOUR_REGION.oraclecloud.com

# OCI bucket name (create this bucket in your OCI Object Storage)
OCI_BUCKET_NAME=tour41-backups

# AWS credentials for OCI S3 compatibility (Customer Secret Keys from OCI)
# Create these in OCI Console: User Settings → Customer Secret Keys
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here

# Restic repository password (encryption password - KEEP THIS SAFE!)
# Generate with: openssl rand -base64 32
RESTIC_PASSWORD=CHANGE_ME_restic_encryption_password

# Backup schedule (cron format: minute hour day month weekday)
# Default: 03:30 daily
BACKUP_CRON=30 3 * * *

# Run backup immediately on container startup (for testing)
# Set to "true" to run backup on startup, "false" for scheduled only
BACKUP_RUN_ON_STARTUP=false

# Retention policy (how many backups to keep)
RESTIC_KEEP_DAILY=7
RESTIC_KEEP_WEEKLY=4
RESTIC_KEEP_MONTHLY=6
